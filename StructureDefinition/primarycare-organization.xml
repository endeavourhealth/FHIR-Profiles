<?xml version="1.0" encoding="utf-8"?>
<StructureDefinition xmlns="http://hl7.org/fhir">
  <id value="primarycare-organization" />
  <meta>
    <lastUpdated value="2015-11-01T10:00:00+00:00" />
  </meta>
  <extension url="http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm">
    <valueInteger value="1" />
  </extension>
  <url value="http://endeavourhealth.org/fhir/StructureDefinition/primarycare-organization" />
  <name value="PrimaryCare-Organization" />
  <display value="Primary Care organization" />
  <status value="draft" />
  <publisher value="Endeavour Health Charitable Trust" />
  <contact>
    <telecom>
      <system value="other" />
      <value value="http://www.endeavourhealth.org/" />
    </telecom>
  </contact>
  <date value="2015-11-01" />
  <description value="Primary Care organization" />
  <fhirVersion value="1.0.2" />
  <kind value="resource" />
  <constrainedType value="Organization" />
  <abstract value="false" />
  <base value="http://hl7.org/fhir/StructureDefinition/Organization" />
  <differential>
    <element>
      <path value="Organization" />
      <short value="A grouping of people or organizations with a common purpose" />
      <definition value="A formally or informally recognized grouping of people or organizations formed for the purpose of achieving some form of collective action.  Includes companies, institutions, corporations, departments, community groups, healthcare practice groups, etc." />
      <min value="0" />
      <max value="*" />
      <type>
        <code value="Organization" />
      </type>
      <mapping>
        <identity value="v2" />
        <map value="(also see master files messages)" />
      </mapping>
      <mapping>
        <identity value="rim" />
        <map value="Organization(classCode=ORG, determinerCode=INST)" />
      </mapping>
      <mapping>
        <identity value="servd" />
        <map value="Organization" />
      </mapping>
      <mapping>
        <identity value="w5" />
        <map value="administrative.group" />
      </mapping>
    </element>
    <element>
      <path value="Organization.identifier" />
      <slicing>
        <rules value="openAtEnd" />
      </slicing>
      <short value="Identifies this organization  across multiple systems" />
      <definition value="Identifier for the organization that is used to identify the organization across multiple disparate systems." />
      <requirements value="Organizations are known by a variety of ids. Some institutions maintain several, and most collect identifiers for exchange with other organizations concerning the organization." />
      <min value="0" />
      <max value="*" />
      <isSummary value="true" />
    </element>
    <element>
      <path value="Organization.identifier.assigner" />
      <short value="Organization that issued id (may be just text)" />
      <definition value="Organization that issued/manages the identifier." />
      <comments value="The reference may be just a text description of the assigner." />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Reference" />
        <profile value="http://endeavourhealth.org/fhir/StructureDefinition/primarycare-organization" />
      </type>
      <isSummary value="true" />
      <mapping>
        <identity value="v2" />
        <map value="CX.4 / (CX.4,CX.9,CX.10)" />
      </mapping>
      <mapping>
        <identity value="rim" />
        <map value="II.assigningAuthorityName but note that this is an improper use by the definition of the field.  Also Role.scoper" />
      </mapping>
      <mapping>
        <identity value="servd" />
        <map value="./IdentifierIssuingAuthority" />
      </mapping>
    </element>
    <element>
      <path value="Organization.identifier" />
      <name value="ODSCode" />
      <short value="Identifies this organization  across multiple systems" />
      <definition value="Identifier for the organization that is used to identify the organization across multiple disparate systems." />
      <requirements value="Organizations are known by a variety of ids. Some institutions maintain several, and most collect identifiers for exchange with other organizations concerning the organization." />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Identifier" />
      </type>
      <condition value="org-1" />
      <isSummary value="true" />
      <mapping>
        <identity value="v2" />
        <map value="XON.10 / XON.3" />
      </mapping>
      <mapping>
        <identity value="rim" />
        <map value=".scopes[Role](classCode=IDENT)" />
      </mapping>
      <mapping>
        <identity value="servd" />
        <map value="./Identifiers" />
      </mapping>
      <mapping>
        <identity value="w5" />
        <map value="id" />
      </mapping>
    </element>
    <element>
      <path value="Organization.identifier.system" />
      <short value="ODS code" />
      <definition value="Establishes the namespace in which set of possible id values is unique." />
      <requirements value="There are many sequences of identifiers.  To perform matching, we need to know what sequence we're dealing with. The system identifies a particular sequence or set of unique identifiers." />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="uri" />
      </type>
      <fixedUri value="http://endeavourhealth.org/fhir/identifier/ods-code" />
      <exampleUri value="http://www.acme.com/identifiers/patient or urn:ietf:rfc:3986 if the Identifier.value itself is a full uri" />
      <isSummary value="true" />
      <mapping>
        <identity value="v2" />
        <map value="CX.4 / EI-2-4" />
      </mapping>
      <mapping>
        <identity value="rim" />
        <map value="II.root or Role.id.root" />
      </mapping>
      <mapping>
        <identity value="servd" />
        <map value="./IdentifierType" />
      </mapping>
    </element>
    <element>
      <path value="Organization.identifier.value" />
      <short value="ODS code value" />
      <definition value="The portion of the identifier typically displayed to the user and which is unique within the context of the system." />
      <comments value="If the value is a full URI, then the system SHALL be urn:ietf:rfc:3986." />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="string" />
      </type>
      <exampleString value="123456" />
      <isSummary value="true" />
      <mapping>
        <identity value="v2" />
        <map value="CX.1 / EI.1" />
      </mapping>
      <mapping>
        <identity value="rim" />
        <map value="II.extension or II.root if system indicates OID or GUID (Or Role.id.extension or root)" />
      </mapping>
      <mapping>
        <identity value="servd" />
        <map value="./Value" />
      </mapping>
    </element>
    <element>
      <path value="Organization.type" />
      <short value="Kind of organization" />
      <definition value="The kind of organization that this is." />
      <comments value="Organizations can be corporations, wards, sections, clinical teams, government departments, etc. Note that code is generally a classifier of the type of organization; in many applications, codes are used to identity a particular organization (say, ward) as opposed to another of the same type - these are identifiers, not codes." />
      <requirements value="Need to be able to track the kind of organization that this is - different organization types have different uses." />
      <min value="1" />
      <max value="1" />
      <type>
        <code value="CodeableConcept" />
      </type>
      <isSummary value="true" />
      <binding>
        <strength value="required" />
        <description value="Used to categorize the organization" />
        <valueSetReference>
          <reference value="http://endeavourhealth.org/fhir/ValueSet/primarycare-organization-type" />
        </valueSetReference>
      </binding>
    </element>
    <element>
      <path value="Organization.type.coding.system" />
      <short value="Identity of the terminology system" />
      <definition value="The identification of the code system that defines the meaning of the symbol in the code." />
      <comments value="The URI may be an OID (urn:oid:...) or a UUID (urn:uuid:...).  OIDs and UUIDs SHALL be references to the HL7 OID registry. Otherwise, the URI should come from HL7's list of FHIR defined special URIs or it should de-reference to some definition that establish the system clearly and unambiguously." />
      <requirements value="Need to be unambiguous about the source of the definition of the symbol." />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="uri" />
      </type>
      <fixedUri value="http://endeavourhealth.org/fhir/ValueSet/primarycare-organization-type" />
      <isSummary value="true" />
      <mapping>
        <identity value="v2" />
        <map value="C*E.3" />
      </mapping>
      <mapping>
        <identity value="rim" />
        <map value="./codeSystem" />
      </mapping>
      <mapping>
        <identity value="orim" />
        <map value="fhir:Coding.system rdfs:subPropertyOf dt:CDCoding.codeSystem" />
      </mapping>
    </element>
    <element>
      <path value="Organization.type.coding.version" />
      <short value="Version of the system - if relevant" />
      <definition value="The version of the code system which was used when choosing this code. Note that a well-maintained code system does not need the version reported, because the meaning of codes is consistent across versions. However this cannot consistently be assured. and when the meaning is not guaranteed to be consistent, the version SHOULD be exchanged." />
      <comments value="Where the terminology does not clearly define what string should be used to identify code system versions, the recommendation is to use the date (expressed in FHIR date format) on which that version was officially published as the version date." />
      <min value="0" />
      <max value="0" />
      <type>
        <code value="string" />
      </type>
      <isSummary value="true" />
      <mapping>
        <identity value="v2" />
        <map value="C*E.7" />
      </mapping>
      <mapping>
        <identity value="rim" />
        <map value="./codeSystemVersion" />
      </mapping>
      <mapping>
        <identity value="orim" />
        <map value="fhir:Coding.version rdfs:subPropertyOf dt:CDCoding.codeSystemVersion" />
      </mapping>
    </element>
    <element>
      <path value="Organization.type.coding.userSelected" />
      <short value="If this coding was chosen directly by the user" />
      <definition value="Indicates that this coding was chosen by a user directly - i.e. off a pick list of available items (codes or displays)." />
      <comments value="Amongst a set of alternatives, a directly chosen code is the most appropriate starting point for new translations. There is some ambiguity about what exactly 'directly chosen' implies, and trading partner agreement may be needed to clarify the use of this element and its consequences more completely." />
      <requirements value="This has been identified as a clinical safety criterium - that this exact system/code pair was chosen explicitly, rather than inferred by the system based on some rules or language processing." />
      <min value="0" />
      <max value="0" />
      <type>
        <code value="boolean" />
      </type>
      <isSummary value="true" />
      <mapping>
        <identity value="v2" />
        <map value="Sometimes implied by being first" />
      </mapping>
      <mapping>
        <identity value="rim" />
        <map value="CD.codingRationale" />
      </mapping>
      <mapping>
        <identity value="orim" />
        <map value="fhir:Coding.userSelected fhir:mapsTo dt:CDCoding.codingRationale. fhir:Coding.userSelected fhir:hasMap fhir:Coding.userSelected.map. fhir:Coding.userSelected.map a fhir:Map;   fhir:target dt:CDCoding.codingRationale. fhir:Coding.userSelected\#true a [     fhir:source &quot;true&quot;;     fhir:target dt:CDCoding.codingRationale\#O   ]" />
      </mapping>
    </element>
    <element>
      <path value="Organization.partOf" />
      <short value="The organization of which this organization forms a part" />
      <definition value="The organization of which this organization forms a part." />
      <requirements value="Need to be able to track the hierarchy of organizations within an organization." />
      <min value="0" />
      <max value="1" />
      <type>
        <code value="Reference" />
        <profile value="http://endeavourhealth.org/fhir/StructureDefinition/primarycare-organization" />
      </type>
      <isSummary value="true" />
      <mapping>
        <identity value="v2" />
        <map value="No equivalent in HL7 v2" />
      </mapping>
      <mapping>
        <identity value="rim" />
        <map value=".playedBy[classCode=Part].scoper" />
      </mapping>
      <mapping>
        <identity value="servd" />
        <map value="n/a" />
      </mapping>
    </element>
  </differential>
</StructureDefinition>